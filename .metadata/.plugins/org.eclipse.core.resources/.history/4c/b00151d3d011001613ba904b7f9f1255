package NestedDictionary;

import java.util.HashMap;

public class NestedDictionary {
	HashMap<String, Object> map;
	HashMap<String, String> res;
	public NestedDictionary() {
		map = new HashMap<String, Object>();
		map.put("key1", "s1");
		map.put("key2", new HashMap<String, Object>());

		((HashMap<String, Object>)map.get("key2")).put("a", "ValA");
		((HashMap<String, Object>)map.get("key2")).put("b", "ValB");
		System.out.println(map);
		res = new HashMap<String, String>();
		traverse("", map);
		System.out.println(res);
	}
	
	public void traverse(String keyPrefix, Object node) {
		if(node instanceof String) res.put(keyPrefix, (String)node);
		else {
			for(String key : ((HashMap<String, Object>)node).keySet()) {
				traverse(key+".", ((HashMap<String, Object>)node).get(key));
			}
		}
	}
}
